"use strict";(self.webpackChunkkotestdocs=self.webpackChunkkotestdocs||[]).push([[3097],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return u}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=c(n),u=a,f=m["".concat(l,".").concat(u)]||m[u]||d[u]||o;return n?r.createElement(f,i(i({ref:t},p),{},{components:n})):r.createElement(f,i({ref:t},p))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},984:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return p},default:function(){return m}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),i=["components"],s={id:"gradle",title:"Conditional tests with Gradle",slug:"conditional-tests-with-gradle.html",sidebar_label:"Gradle"},l=void 0,c={unversionedId:"framework/conditional/gradle",id:"framework/conditional/gradle",isDocsHomePage:!1,title:"Conditional tests with Gradle",description:"Kotest supports two ways to filter tests from the command line using Gradle. The first is the standard --tests flag",source:"@site/docs/framework/conditional/gradle.md",sourceDirName:"framework/conditional",slug:"/framework/conditional/conditional-tests-with-gradle.html",permalink:"/docs/framework/conditional/conditional-tests-with-gradle.html",editUrl:"https://github.com/kotest/kotest/blob/master/documentation/docs/framework/conditional/gradle.md",tags:[],version:"current",frontMatter:{id:"gradle",title:"Conditional tests with Gradle",slug:"conditional-tests-with-gradle.html",sidebar_label:"Gradle"},sidebar:"framework",previous:{title:"Spec Annotations",permalink:"/docs/framework/conditional/spec-annotations-conditional-evaluation.html"},next:{title:"Isolation Modes",permalink:"/docs/framework/isolation-mode.html"}},p=[{value:"Gradle Test Filtering",id:"gradle-test-filtering",children:[],level:3},{value:"Kotest Specific Test Filtering",id:"kotest-specific-test-filtering",children:[],level:3}],d={toc:p};function m(e){var t=e.components,n=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Kotest supports two ways to filter tests from the command line using Gradle. The first is the standard --tests flag\nthat gradle supports, and the second is a kotest specific system property."),(0,o.kt)("h3",{id:"gradle-test-filtering"},"Gradle Test Filtering"),(0,o.kt)("p",null,"When running Kotest via the JUnit Platform runner through gradle, Kotest supports the standard gradle syntax for\ntest filtering. You can enable filtering either in the build script or via the --tests command-line option."),(0,o.kt)("p",null,"For example, in the build script:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-groovy"},'tasks.test {\n    filter {\n        //include all tests from package\n        includeTestsMatching("com.somepackage.*")\n    }\n}\n')),(0,o.kt)("p",null,"Or via the command line:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"gradle test --tests 'com.sksamuel.somepackage*'")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"gradle test --tests '*IntegrationTest'")),(0,o.kt)("p",null,"See full Gradle documentation ",(0,o.kt)("a",{parentName:"p",href:"https://docs.gradle.org/6.2.2/userguide/java_testing.html#test_filtering"},"here"),"."),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Because gradle's test support is class.method based, we cannot filter tests down to the individual test level, only the class level."))),(0,o.kt)("h3",{id:"kotest-specific-test-filtering"},"Kotest Specific Test Filtering"),(0,o.kt)("p",null,"To avoid the limitations with Gradle's ",(0,o.kt)("inlineCode",{parentName:"p"},"--tests")," support, Kotest offers its own flags, ",(0,o.kt)("inlineCode",{parentName:"p"},"kotest.filter.tests")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"kotest.filter.specs"),"\nwhich are provided via ",(0,o.kt)("strong",{parentName:"p"},"system properties")," or ",(0,o.kt)("strong",{parentName:"p"},"env vars"),". These flags support wildcards via ",(0,o.kt)("inlineCode",{parentName:"p"},"*")," and match either tests or specs."),(0,o.kt)("p",null,"This example would execute all tests in the com.somepackage (and nested) packages:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"gradle test -Dkotest.filter.specs='com.somepackage.*'")),(0,o.kt)("p",null,"This example would execute only tests that contain ",(0,o.kt)("inlineCode",{parentName:"p"},"Foo")," in the com.somepackage (and nested) packages:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"gradle test -Dkotest.filter.specs='com.somepackage.*' -Dkotest.filter.tests='*Foo*'")),(0,o.kt)("p",null,"This example would execute only tests that start with ",(0,o.kt)("inlineCode",{parentName:"p"},"Foo")," in any package:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"gradle test -Dkotest.filter.tests='Foo*'")))}m.isMDXComponent=!0}}]);